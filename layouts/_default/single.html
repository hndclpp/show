{{ define "main" }}
<div class="single-container">
    <!-- 骨架屏 -->
    <div class="skeleton-container">
        {{ partial "skeleton-single.html" . }}
    </div>

    <!-- 文章内容 -->
    <article class="post-content" style="display: none;">
        <h2>{{ .Title }}</h2>

        <!-- 文章元数据 -->
        <div class="post-meta">
            <span class="meta-item">
                <a href="/timeline" class="meta-link">
                    {{ .Date.Format "2006-01-02" }}
                </a>
            </span>
            {{ if .Params.location }}
            <span class="meta-item">{{ .Params.location }}</span>
            {{ end }}
            {{ if .Params.tags }}
            <span class="meta-item">
                {{ range .Params.tags }}
                <a href="{{ "/tags/" | relLangURL }}{{ . | urlize }}/" class="tag">{{ . }}</a>
                {{ end }}
            </span>
            {{ end }}
        </div>

        <!-- 文章内容正文 -->
        <div class="content">
            {{ .Content }}
        </div>

        <!-- 导航：上一篇 下一篇 -->
        <div class="post-navigation">
            {{ with .PrevInSection }}
            <a href="{{ .Permalink }}" class="prev-post">
                <span class="nav-label">« 上一篇</span>
                <span class="nav-title">{{ .Title }}</span>
            </a>
            {{ end }}

            {{ with .NextInSection }}
            <a href="{{ .Permalink }}" class="next-post">
                <span class="nav-label">下一篇 »</span>
                <span class="nav-title">{{ .Title }}</span>
            </a>
            {{ end }}
        </div>
    </article>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    setTimeout(function() {
        document.querySelector('.skeleton-container').style.display = 'none';
        document.querySelector('.post-content').style.display = 'block';
    }, 300);
});
</script>
{{ end }}
